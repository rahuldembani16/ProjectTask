!function(t,e){"function"==typeof define&&define.amd?define(["d3","jquery"],function(i,r){return t.Rickshaw=e(i,r)}):"object"==typeof exports?module.exports=e(require("d3"),require("jquery")):t.Rickshaw=e(d3,jQuery)}(this,function(t,e){var i={namespace:function(t,e){for(var r=t.split("."),n=i,s=1,a=r.length;s<a;s++){var h=r[s];n[h]=n[h]||{},n=n[h]}return n},keys:function(t){var e=[];for(var i in t)e.push(i);return e},extend:function(t,e){for(var i in e)t[i]=e[i];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function e(t){return l.call(t)===_}function i(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function r(t){if(n(t)!==m)throw new TypeError;var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function n(t){switch(t){case null:return d;case void 0:return g}var e=typeof t;switch(e){case"boolean":return p;case"number":return f;case"string":return S}return m}function s(t){return"undefined"==typeof t}function a(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function h(t,e){var i=t;return function(){var t=o([u(i,this)],arguments);return e.apply(this,t)}}function o(t,e){for(var i=t.length,r=e.length;r--;)t[i+r]=e[r];return t}function c(t,e){return t=y.call(t,0),o(t,e)}function u(t,e){if(arguments.length<2&&s(arguments[0]))return this;var i=t,r=y.call(arguments,2);return function(){var t=c(r,arguments);return i.apply(e,t)}}var l=Object.prototype.toString,d="Null",g="Undefined",p="Boolean",f="Number",S="String",m="Object",_="[object Function]",y=Array.prototype.slice,v=function(){},P=function(){function t(){}function n(){function r(){this.initialize.apply(this,arguments)}var n=null,s=[].slice.apply(arguments);if(e(s[0])&&(n=s.shift()),i(r,P.Methods),r.superclass=n,r.subclasses=[],n){t.prototype=n.prototype,r.prototype=new t;try{n.subclasses.push(r)}catch(t){}}for(var a=0,h=s.length;a<h;a++)r.addMethods(s[a]);return r.prototype.initialize||(r.prototype.initialize=v),r.prototype.constructor=r,r}function s(t){var i=this.superclass&&this.superclass.prototype,n=r(t);o&&(t.toString!=Object.prototype.toString&&n.push("toString"),t.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var s=0,c=n.length;s<c;s++){var l=n[s],d=t[l];if(i&&e(d)&&"$super"==a(d)[0]){var g=d;d=h(function(t){return function(){return i[t].apply(this,arguments)}}(l),g),d.valueOf=u(g.valueOf,g),d.toString=u(g.toString,g)}this.prototype[l]=d}return this}var o=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:n,Methods:{addMethods:s}}}();t.exports?t.exports.Class=P:t.Class=P}(i),i.namespace("Rickshaw.Compat.ClassList"),i.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";var e="classList",i="prototype",r=(t.HTMLElement||t.Element)[i],n=Object,s=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[i].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1},h=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},o=function(t,e){if(""===e)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(t,e)},c=function(t){for(var e=s.call(t.className),i=e?e.split(/\s+/):[],r=0,n=i.length;r<n;r++)this.push(i[r]);this._updateClassName=function(){t.className=this.toString()}},u=c[i]=[],l=function(){return new c(this)};if(h[i]=Error[i],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",o(this,t)!==-1},u.add=function(t){t+="",o(this,t)===-1&&(this.push(t),this._updateClassName())},u.remove=function(t){t+="";var e=o(this,t);e!==-1&&(this.splice(e,1),this._updateClassName())},u.toggle=function(t){t+="",o(this,t)===-1?this.add(t):this.remove(t)},u.toString=function(){return this.join(" ")},n.defineProperty){var d={get:l,enumerable:!0,configurable:!0};try{n.defineProperty(r,e,d)}catch(t){t.number===-2146823252&&(d.enumerable=!1,n.defineProperty(r,e,d))}}else n[i].__defineGetter__&&r.__defineGetter__(e,l)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new i.Compat.ClassList,i.namespace("Rickshaw.Graph"),i.Graph=function(e){var r=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return r.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in i.Graph.Renderer)if(t&&i.Graph.Renderer.hasOwnProperty(t)){var e=i.Graph.Renderer[t];e&&e.prototype&&e.prototype.render&&r.registerRenderer(new e({graph:r}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof i.Series)){var e=Object.prototype.toString.apply(t);throw"series is not an array: "+e}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,i=t.data[0].y;if("number"!=typeof e||"number"!=typeof i&&null!==i)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof i}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data}),i=t.min(e.map(function(t){return t[0].x})),r=t.max(e.map(function(t){return t[t.length-1].x}));return[i,r]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var e=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),n=this.preserve;n||this.series.forEach(function(t){t.scale&&(n=!0)}),e=n?i.clone(e):e,this.series.active().forEach(function(t,i){if(t.scale){var r=e[i];r&&r.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){e=t.f.apply(r,[e])});var s;if(!this.renderer.unstack){this._validateStackable();var a=t.layout.stack();a.offset(r.offset),s=a(e)}s=s||e,this.renderer.unstack&&s.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){s=t.f.apply(r,[e])});var h=0;return this.series.forEach(function(t){t.disabled||(t.stack=s[h++])}),this.stackedData=s,s},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if(t=t||e.data.length,t&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),i.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),i.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var e=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(e,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:r}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},"undefined"!=typeof window)var e=window.getComputedStyle(this.element,null),i=parseInt(e.getPropertyValue("width"),10),r=parseInt(e.getPropertyValue("height"),10);this.width=t.width||i||400,this.height=t.height||r||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(e)},i.namespace("Rickshaw.Fixtures.Color"),i.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},i.namespace("Rickshaw.Fixtures.RandomData"),i.Fixtures.RandomData=function(t){t=t||1;var e=200,i=Math.floor((new Date).getTime()/1e3);this.addData=function(r){var n=100*Math.random()+15+e,s=r[0].length,a=1;r.forEach(function(e){var r=20*Math.random(),h=n/25+a++ +15*(Math.cos(s*a*11/960)+2)+7*(Math.cos(s/7)+2)+1*(Math.cos(s/17)+2);e.push({x:s*t+i,y:h+r})}),e=.85*n},this.removeData=function(e){e.forEach(function(t){t.shift()}),i+=t}},i.namespace("Rickshaw.Fixtures.Time"),i.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var i,r,n;if("month"==e.name){if(i=new Date(1e3*t),r=Date.UTC(i.getUTCFullYear(),i.getUTCMonth())/1e3,r==t)return t;n=i.getUTCFullYear();var s=i.getUTCMonth();return 11==s?(s=0,n+=1):s+=1,Date.UTC(n,s)/1e3}return"year"==e.name?(i=new Date(1e3*t),r=Date.UTC(i.getUTCFullYear(),0)/1e3,r==t?t:(n=i.getUTCFullYear()+1,Date.UTC(n,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},i.namespace("Rickshaw.Fixtures.Time.Local"),i.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var i,r,n;if("day"==e.name){var s=new Date(1e3*(t+e.seconds-1)),a=new Date(0);return a.setMilliseconds(0),a.setSeconds(0),a.setMinutes(0),a.setHours(0),a.setDate(s.getDate()),a.setMonth(s.getMonth()),a.setFullYear(s.getFullYear()),a.getTime()/1e3}if("month"==e.name){if(i=new Date(1e3*t),r=new Date(i.getFullYear(),i.getMonth()).getTime()/1e3,r==t)return t;n=i.getFullYear();var h=i.getMonth();return 11==h?(h=0,n+=1):h+=1,new Date(n,h).getTime()/1e3}return"year"==e.name?(i=new Date(1e3*t),r=new Date(i.getUTCFullYear(),0).getTime()/1e3,r==t?t:(n=i.getFullYear()+1,new Date(n,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},i.namespace("Rickshaw.Fixtures.Number"),i.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},i.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},i.namespace("Rickshaw.Color.Palette"),i.Color.Palette=function(e){var r=new i.Fixtures.Color;if(e=e||{},this.schemes={},this.scheme=r.schemes[e.scheme]||e.scheme||r.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,e.interpolatedStopCount){var n,s,a=this.scheme.length-1,h=[];for(n=0;n<a;n++){h.push(this.scheme[n]);var o=t.interpolateHsl(this.scheme[n],this.scheme[n+1]);for(s=1;s<e.interpolatedStopCount;s++)h.push(o(1/e.interpolatedStopCount*s))}h.push(this.scheme[this.scheme.length-1]),this.scheme=h}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},i.namespace("Rickshaw.Graph.Ajax"),i.Graph.Ajax=i.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){e.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,e){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new i.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,i=t.series;return t.series?(i.forEach(function(t){var i=t.key||t.name;if(!i)throw"series needs a key or a name";e.forEach(function(e){var r=e.key||e.name;if(!r)throw"data needs a key or a name";if(i==r){var n=["color","name","data"];n.forEach(function(i){e[i]&&(t[i]=e[i])})}})}),i):e}}),i.namespace("Rickshaw.Graph.Annotate"),i.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var e=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,i,r){e.data[t]=e.data[t]||{boxes:[]},e.data[t].boxes.push({content:i,end:r})},this.update=function(){i.keys(e.data).forEach(function(t){var i=e.data[t],r=e.graph.x(t);if(r<0||r>e.graph.x.range()[1])return i.element&&(i.line.classList.add("offscreen"),i.element.style.display="none"),void i.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!i.element){var n=i.element=document.createElement("div");n.classList.add("annotation"),this.elements.timeline.appendChild(n),n.addEventListener("click",function(t){n.classList.toggle("active"),i.line.classList.toggle("active"),i.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}i.element.style.left=r+"px",i.element.style.display="block",i.boxes.forEach(function(t){var n=t.element;if(n||(n=t.element=document.createElement("div"),n.classList.add("content"),n.innerHTML=t.content,i.element.appendChild(n),i.line=document.createElement("div"),i.line.classList.add("annotation_line"),e.graph.element.appendChild(i.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),e.graph.element.appendChild(t.rangeElement))),t.end){var s=r,a=Math.min(e.graph.x(t.end),e.graph.x.range()[1]);s>a&&(a=r,s=Math.max(e.graph.x(t.end),e.graph.x.range()[0]));var h=a-s;t.rangeElement.style.left=s+"px",t.rangeElement.style.width=h+"px",t.rangeElement.classList.remove("offscreen")}i.line.classList.remove("offscreen"),i.line.style.left=r+"px"})},this)},this.graph.onUpdate(function(){e.update()})},i.namespace("Rickshaw.Graph.Axis.Time"),i.Graph.Axis.Time=function(t){var e=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var r=t.timeFixture||new i.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=r.units,i=this.graph.x.domain(),n=i[1]-i[0];return e.forEach(function(e){Math.floor(n/e.seconds)>=2&&(t=t||e)}),t||r.units[r.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),i=Math.ceil((t[1]-t[0])/e.seconds),n=t[0],s=[],a=0;a<i;a++){var h=r.ceil(n,e);n=h+e.seconds/2,s.push({value:h,unit:e})}return s},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[];var t=this.tickOffsets();t.forEach(function(t){if(!(e.graph.x(t.value)>e.graph.x.range()[1])){var i=document.createElement("div");i.style.left=e.graph.x(t.value)+"px",i.classList.add("x_tick"),i.classList.add(e.ticksTreatment);var r=document.createElement("div");r.classList.add("title"),r.innerHTML=t.unit.formatter(new Date(1e3*t.value)),i.appendChild(r),e.graph.element.appendChild(i),e.elements.push(i)}})},this.graph.onUpdate(function(){e.render()})},i.namespace("Rickshaw.Graph.Axis.X"),i.Graph.Axis.X=function(e){var i=this,r=.1;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){i.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+r));var e=Math.floor(this.width*r/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var i=t.svg.axis().scale(this.graph.x).orient(this.orientation);i.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&i.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var n,s=Math.floor(this.width*r/2)||0;if("top"==this.orientation){var a=this.height||this.graph.height;n="translate("+s+","+a+")"}else n="translate("+s+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",n).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var h=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(i.ticks(this.ticks).tickSubdivide(0).tickSize(h)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var i=window.getComputedStyle(t,null),n=parseInt(i.getPropertyValue("height"),10);if(!e.auto)var s=parseInt(i.getPropertyValue("width"),10)}this.width=(e.width||s||this.graph.width)*(1+r),this.height=e.height||n||40},this.initialize(e)},i.namespace("Rickshaw.Graph.Axis.Y"),i.Graph.Axis.Y=i.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.color=e.color,this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var i=this;this.graph.onUpdate(function(){i.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),i=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var r=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||i||this.graph.width*this.berthRate,this.height=t.height||r||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var n=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*n+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){function i(t){n.color&&(t.selectAll("text").style("fill",n.color),t.selectAll("line, path").style("stroke",n.color))}function r(t){var e=+(1/0);if(n.graph.stackedData.forEach(function(t){t.forEach(function(t){if(null!=t.y){var i=t.y+t.y0;i<e&&(e=i)}})}),0!==e&&0!==n.graph.min){var i=t.select("path").attr("d"),r=i.match(/(-?\d+)\s*H\s*-?\d+$/)[1],s="V"+(parseInt(r,10)-8)+"m6,-3 l-12,6 m12,-3 l-12,6 m6,-3",a=i.replace(/(V-?\d+\s*H\s*-?\d+)$/,s+"$1");t.select("path").attr("d",a)}}var n=this,s=t.svg.axis().scale(e).orient(this.orientation);if(s.tickFormat(this.tickFormat),this.tickValues&&s.tickValues(this.tickValues),"left"==this.orientation)var a="translate("+this.width+", 0)";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",a).call(s.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)).call(r).call(i),s},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),i.namespace("Rickshaw.Graph.Axis.Y.Scaled"),i.Graph.Axis.Y.Scaled=i.Class.create(i.Graph.Axis.Y,{initialize:function($super,t){if("undefined"==typeof t.scale)throw new Error("Scaled requires scale");this.scale=t.scale,this.color=t.color,"undefined"==typeof t.grid?this.grid=!0:this.grid=t.grid,$super(t)},_drawAxis:function($super,e){var i=this.scale.domain(),r=this.graph.renderer.domain().y,n=[Math.min.apply(Math,i),Math.max.apply(Math,i)],s=t.scale.linear().domain([0,1]).range(n),a=[s(r[0]),s(r[1])],h=t.scale.linear().domain(n).range(a),o=this.scale.copy().domain(i.map(h)).range(e.range());return $super(o)},_drawGrid:function($super,t){this.grid&&$super(t)}}),i.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),i.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var i=this,r={},n=null,s=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){n||(n=t,i.legend.lines.forEach(function(e){if(t!==e)r[e.series.name]=r[e.series.name]||e.series.color,e.series.color=s(e.series.color);else if(i.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var n=i.graph.series.indexOf(e.series);e.originalIndex=n;var a=i.graph.series.splice(n,1)[0];i.graph.series.push(a)}}),i.graph.update())},!1),t.element.addEventListener("mouseout",function(e){n&&(n=null,i.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var n=i.graph.series.pop();i.graph.series.splice(e.originalIndex,0,n),delete e.originalIndex}r[e.series.name]&&(e.series.color=r[e.series.name])}),i.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){i.addHighlightEvents(t)})},i.namespace("Rickshaw.Graph.Behavior.Series.Order"),i.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var i=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";e(function(){e(i.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,r){var n=[];e(i.legend.list).find("li").each(function(t,e){e.series&&n.push(e.series)});for(var s=i.graph.series.length-1;s>=0;s--)i.graph.series[s]=n.shift();i.graph.update()}}),e(i.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(i.legend.element).height;i.legend.element.style.height=t})},i.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),i.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var i=this;if(this.addAnchor=function(t){var e=document.createElement("a");e.innerHTML="&#10004;",e.classList.add("action"),t.element.insertBefore(e,t.element.firstChild),e.onclick=function(e){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}i.graph.update()}.bind(this);var r=t.element.getElementsByTagName("span")[0];r.onclick=function(e){var r=t.series.disabled;if(!r)for(var n=0;n<i.legend.lines.length;n++){var s=i.legend.lines[n];if(t.series===s.series);else if(!s.series.disabled){r=!0;break}}r?(t.series.enable(),t.element.classList.remove("disabled"),i.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):i.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")}),i.graph.update()}},this.legend){var r=e;"undefined"!=typeof r&&r(this.legend.list).sortable&&r(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){i.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(i.graph.series.length<=1)throw"only one series left";t.disabled=!0},t.enable=function(){t.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},i.namespace("Rickshaw.Graph.HoverDetail"),i.Graph.HoverDetail=i.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var i=this.element=document.createElement("div");i.className="detail",this.visible=!0,e.element.appendChild(i),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,i,r,n,s){return t.name+":&nbsp;"+n},update:function(e){if(e=e||this.lastEvent,e&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var i,r=this.graph,n=e.offsetX||e.layerX,s=e.offsetY||e.layerY,a=0,h=[];if(this.graph.series.active().forEach(function(e){var o=this.graph.stackedData[a++];if(o.length){var c=r.x.invert(n),u=t.scale.linear().domain([o[0].x,o.slice(-1)[0].x]).range([0,o.length-1]),l=Math.round(u(c));l==o.length-1&&l--;for(var d=Math.min(l||0,o.length-1),g=l;g<o.length-1&&(o[g]&&o[g+1]);){if(o[g].x<=c&&o[g+1].x>c){d=Math.abs(c-o[g].x)<Math.abs(c-o[g+1].x)?g:g+1;break}o[g+1].x<=c?g++:g--}d<0&&(d=0);var p=o[d],f=Math.sqrt(Math.pow(Math.abs(r.x(p.x)-n),2)+Math.pow(Math.abs(r.y(p.y+p.y0)-s),2)),S=e.xFormatter||this.xFormatter,m=e.yFormatter||this.yFormatter,_={formattedXValue:S(p.x),formattedYValue:m(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:f,order:a,name:e.name};(!i||f<i.distance)&&(i=_),h.push(_)}},this),i){i.active=!0;var o=i.value.x,c=i.formattedXValue;this.element.innerHTML="",this.element.style.left=r.x(o)+"px",
this.visible&&this.render({points:h,detail:h,mouseX:n,mouseY:s,formattedXValue:c,domainX:o})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,i=t.points,r=i.filter(function(t){return t.active}).shift();if(null!==r.value.y){var n=r.formattedXValue,s=r.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(r.value.x)+"px";var a=document.createElement("div");a.className="x_label",a.innerHTML=n,this.element.appendChild(a);var h=document.createElement("div");h.className="item";var o=r.series,c=o.scale?o.scale.invert(r.value.y):r.value.y;h.innerHTML=this.formatter(o,r.value.x,c,n,s,r),h.style.top=this.graph.y(r.value.y0+r.value.y)+"px",this.element.appendChild(h);var u=document.createElement("div");u.className="dot",u.style.top=h.style.top,u.style.borderColor=o.color,this.element.appendChild(u),r.active&&(h.classList.add("active"),u.classList.add("active"));var l=[a,h];l.forEach(function(t){t.classList.add("left")}),this.show();var d=this._calcLayoutError(l);if(d>0){l.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});var g=this._calcLayoutError(l);g>d&&l.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),i=0;t.forEach(function(t){var r=t.getBoundingClientRect();r.width&&(r.right>e.right&&(i+=r.right-e.right),r.left<e.left&&(i+=e.left-r.left))});return i},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),i.namespace("Rickshaw.Graph.JSONP"),i.Graph.JSONP=i.Class.create(i.Graph.Ajax,{request:function(){e.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),i.namespace("Rickshaw.Graph.Legend"),i.Graph.Legend=i.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var i=document.createElement("li");i.className="line",e.disabled&&(i.className+=" disabled"),e.className&&t.select(i).classed(e.className,!0);var r=document.createElement("div");r.className="swatch",r.style.backgroundColor=e.color,i.appendChild(r);var n=document.createElement("span");n.className="label",n.innerHTML=e.name,i.appendChild(n),this.list.appendChild(i),i.series=e,e.noLegend&&(i.style.display="none");var s={element:i,series:e};return this.shelving&&(this.shelving.addAnchor(s),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(s),this.lines.push(s),i}}),i.namespace("Rickshaw.Graph.RangeSlider"),i.Graph.RangeSlider=i.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,i=this.graph,r=e,n=i.dataDomain(),s=this;r(function(){r(t).slider({range:!0,min:n[0],max:n[1],values:[n[0],n[1]],slide:function(t,e){if(!(e.values[1]<=e.values[0])){i.window.xMin=e.values[0],i.window.xMax=e.values[1],i.update();var r=i.dataDomain();r[0]==e.values[0]&&(i.window.xMin=void 0),r[1]==e.values[1]&&(i.window.xMax=void 0),s.slideCallbacks.forEach(function(t){t(i,i.window.xMin,i.window.xMax)})}}})}),r(t)[0].style.width=i.width+"px"},update:function(){var t=this.element,i=this.graph,r=e,n=r(t).slider("option","values"),s=i.dataDomain();r(t).slider("option","min",s[0]),r(t).slider("option","max",s[1]),null==i.window.xMin&&(n[0]=s[0]),null==i.window.xMax&&(n[1]=s[1]),r(t).slider("option","values",n)},onSlide:function(t){this.slideCallbacks.push(t)}}),i.namespace("Rickshaw.Graph.RangeSlider.Preview"),i.Graph.RangeSlider.Preview=i.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),i.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,i=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:i,height:e}),this.svg){var r=e+2*this.config.frameHandleThickness,n=i+2*this.config.frameHandleThickness;this.svg.style("width",n+"px"),this.svg.style("height",r+"px")}},this))},render:function(){var e=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var r=function(t,r){var n=i.extend({},t.config),s=e.previewHeight/e.graphs.length,a=t.renderer.name;i.extend(n,{element:this.appendChild(document.createElement("div")),height:s,width:e.previewWidth,series:t.series,renderer:a});var h=new i.Graph(n);e.previews.push(h),t.onUpdate(function(){h.render(),e.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*e.config.frameHandleThickness,h.configure(t),h.render()}),h.render()},n=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),s="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";n.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",s).style("-moz-transform",s).style("-ms-transform",s).style("transform",s).each(r),n.exit().remove();var a=this.graphs[0],h=t.scale.linear().domain([0,this.previewWidth]).range(a.dataDomain()),o=[a.window.xMin,a.window.xMax];this.currentFrame[0]=void 0===o[0]?0:Math.round(h.invert(o[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===o[1]?this.previewWidth:h.invert(o[1]),this.currentFrame[1]-this.currentFrame[0]<e.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+e.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function e(e,i){o.stop=c._getClientXFromEvent(t.event,o);var r=o.stop-o.start,n=c.frameBeforeDrag.slice(0),s=c.config.minimumFrameWidth;o.rigid&&(s=c.frameBeforeDrag[1]-c.frameBeforeDrag[0]),o.left&&(n[0]=Math.max(n[0]+r,0)),o.right&&(n[1]=Math.min(n[1]+r,c.previewWidth));var a=n[1]-n[0];a<=s&&(o.left&&(n[0]=n[1]-s),o.right&&(n[1]=n[0]+s),n[0]<=0&&(n[1]-=n[0],n[0]=0),n[1]>=c.previewWidth&&(n[0]-=n[1]-c.previewWidth,n[1]=c.previewWidth)),c.graphs.forEach(function(e){var i=t.scale.linear().interpolate(t.interpolateNumber).domain([0,c.previewWidth]).range(e.dataDomain()),r=[i(n[0]),i(n[1])];c.slideCallbacks.forEach(function(t){t(e,r[0],r[1])}),0===n[0]&&(r[0]=void 0),n[1]===c.previewWidth&&(r[1]=void 0),e.window.xMin=r[0],e.window.xMax=r[1],e.update()})}function i(){o.target=t.event.target,o.start=c._getClientXFromEvent(t.event,o),c.frameBeforeDrag=c.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",e),t.select(document).on("mouseup.rickshaw_range_slider_preview",a),t.select(document).on("touchmove.rickshaw_range_slider_preview",e),t.select(document).on("touchend.rickshaw_range_slider_preview",a),t.select(document).on("touchcancel.rickshaw_range_slider_preview",a)}function r(t,e){o.left=!0,i()}function n(t,e){o.right=!0,i()}function s(t,e){o.left=!0,o.right=!0,o.rigid=!0,i()}function a(e,i){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete c.frameBeforeDrag,o.left=!1,o.right=!1,o.rigid=!1}var h=t.select(this.element),o={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},c=this;h.select("rect.left_handle").on("mousedown",r),h.select("rect.right_handle").on("mousedown",n),h.select("rect.middle_handle").on("mousedown",s),h.select("rect.left_handle").on("touchstart",r),h.select("rect.right_handle").on("touchstart",n),h.select("rect.middle_handle").on("touchstart",s)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var i=t.changedTouches,r=null,n=0;n<i.length;n++)if(i[n].target===e.target){r=i[n];break}return null!==r?r.clientX:void 0;default:return t.clientX}}}),i.namespace("Rickshaw.Graph.Renderer"),i.Graph.Renderer=i.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),i=+(1/0),r=-(1/0),n=+(1/0),s=-(1/0);return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<n&&(n=e),e>s&&(s=e)}}),t.length&&(t[0].x<i&&(i=t[0].x),t[t.length-1].x>r&&(r=t[t.length-1].x))}),i-=(r-i)*this.padding.left,r+=(r-i)*this.padding.right,n="auto"===this.graph.min?n:this.graph.min||0,s=void 0===this.graph.max?s:this.graph.max,("auto"===this.graph.min||n<0)&&(n-=(s-n)*this.padding.bottom),void 0===this.graph.max&&(s+=(s-n)*this.padding.top),{x:[i,r],y:[n,s]}},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var n=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),s=r.selectAll("path.path").data(n).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var a=r.selectAll("path.stroke").data(n).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var h=0;i.forEach(function(t){if(!t.disabled&&(t.path=s[0][h],this.stroke&&(t.stroke=a[0][h]),this._styleSeries(t),h++,t.lineBreakPoint&&t.path.pathSegList&&t.data.length>t.lineBreakPoint&&!t.noPrediction)){for(var e=[],i=t.path.pathSegList.numberOfItems;i>t.lineBreakPoint;i--)e.push(t.path.pathSegList.removeItem(t.path.pathSegList.numberOfItems-1));var r=t.path.getTotalLength();for(i=e.length-1;i>=0;i--)t.path.pathSegList.appendItem(e[i]);var n=t.path.getTotalLength(),o=(n-r)/8+2,c=[];for(i=0;i<o;i++)c.push("5,3");t.path.setAttribute("style","stroke-dasharray:"+r+c.join(", "))}},this)},_styleSeries:function(e){var i=this.fill?e.color:"none",r=this.stroke?e.color:"none";e.path.setAttribute("fill",i),e.path.setAttribute("stroke",r),e.path.setAttribute("stroke-width",this.strokeWidth),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},i.keys(this.defaults()).forEach(function(e){return t.hasOwnProperty(e)?void("object"==typeof this.defaults()[e]?i.keys(this.defaults()[e]).forEach(function(i){this[e][i]=void 0!==t[e][i]?t[e][i]:void 0!==this[e][i]?this[e][i]:this.defaults()[e][i]},this):this[e]=void 0!==t[e]?t[e]:void 0!==this[e]?this[e]:void 0!==this.graph[e]?this.graph[e]:this.defaults()[e]):void(this[e]=this[e]||this.graph[e]||this.defaults()[e])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),i.namespace("Rickshaw.Graph.Renderer.Line"),i.Graph.Renderer.Line=i.Class.create(i.Graph.Renderer,{name:"line",defaults:function($super){return i.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,i=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(t){return null!==t.y}),i}}),i.namespace("Rickshaw.Graph.Renderer.Stack"),i.Graph.Renderer.Stack=i.Class.create(i.Graph.Renderer,{name:"stack",defaults:function($super){return i.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,i=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(t){return null!==t.y}),i}}),i.namespace("Rickshaw.Graph.Renderer.Bar"),i.Graph.Renderer.Bar=i.Class.create(i.Graph.Renderer,{name:"bar",defaults:function($super){var t=i.extend($super(),{gapSize:.05,unstack:!1});return delete t.tension,t},initialize:function($super,t){t=t||{},this.gapSize=t.gapSize||this.gapSize,$super(t)},domain:function($super){var t=$super(),e=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return t.x[1]+=Number(e.magnitude),t},barWidth:function(t){var e=this._frequentInterval(t.stack),i=this.graph.x.magnitude(e.magnitude)*(1-this.gapSize);return i},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var n=this.barWidth(i.active()[0]),s=0,a=i.filter(function(t){return!t.disabled}).length,h=this.unstack?n/a:n,o=function(t){var i=[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0];return"matrix("+i.join(",")+")"};i.forEach(function(t){if(!t.disabled){var i=(this.barWidth(t),r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+s}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",h).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("transform",o));Array.prototype.forEach.call(i[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(s+=h)}},this)},_frequentInterval:function(t){for(var e={},r=0;r<t.length-1;r++){var n=t[r+1].x-t[r].x;e[n]=e[n]||0,e[n]++}var s={count:0,magnitude:1};return i.keys(e).forEach(function(t){s.count<e[t]&&(s={count:e[t],magnitude:t})}),s}}),i.namespace("Rickshaw.Graph.Renderer.Area"),i.Graph.Renderer.Area=i.Class.create(i.Graph.Renderer,{name:"area",defaults:function($super){return i.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,i=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return i.defined&&i.defined(function(t){return null!==t.y}),i},seriesStrokeFactory:function(){var e=this.graph,i=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return i.defined&&i.defined(function(t){return null!==t.y}),i},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,r=t.vis||e.vis;r.selectAll("*").remove();var n=this.unstack?"append":"insert",s=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=r.selectAll("path").data(s).enter()[n]("svg:g","g");a.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&a.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var h=0;i.forEach(function(t){t.disabled||(t.path=a[0][h++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),i.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),i.Graph.Renderer.ScatterPlot=i.Class.create(i.Graph.Renderer,{name:"scatterplot",defaults:function($super){return i.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,t){$super(t)},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,r=t.vis||e.vis,n=this.dotSize;r.selectAll("*").remove(),i.forEach(function(t){if(!t.disabled){var i=r.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:n});t.className&&i.classed(t.className,!0),Array.prototype.forEach.call(i[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),i.namespace("Rickshaw.Graph.Renderer.Multi"),i.Graph.Renderer.Multi=i.Class.create(i.Graph.Renderer,{name:"multi",initialize:function($super,t){$super(t)},defaults:function($super){return i.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,t){t=t||{},this.config=t,$super(t)},domain:function($super){this.graph.stackData();var e=[],i=this._groups();this._stack(i),i.forEach(function(t){var i=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(i.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(i):$super(i),e.push(r)}});var r=t.min(e.map(function(t){return t.x[0]})),n=t.max(e.map(function(t){return t.x[1]})),s=t.min(e.map(function(t){return t.y[0]})),a=t.max(e.map(function(t){return t.y[1]}));return{x:[r,n],y:[s,a]}},_groups:function(){var e=this.graph,r={};e.series.forEach(function(n){if(!n.disabled){if(!r[n.renderer]){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"g");e.vis[0][0].appendChild(a);var h=e._renderers[n.renderer],o={},c=[this.defaults(),h.defaults(),this.config,this.graph];c.forEach(function(t){i.extend(o,t)}),h.configure(o),r[n.renderer]={renderer:h,series:[],vis:t.select(a)}}r[n.renderer].series.push(n)}},this);var n=[];return Object.keys(r).forEach(function(t){var e=r[t];n.push(e)}),n},_stack:function(e){return e.forEach(function(e){var r=e.series.filter(function(t){return!t.disabled}),n=r.map(function(t){return t.stack});if(!e.renderer.unstack){var s=t.layout.stack(),a=i.clone(s(n));r.forEach(function(t,e){t._stack=i.clone(a[e])})}},this),e},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),i.namespace("Rickshaw.Graph.Renderer.LinePlot"),i.Graph.Renderer.LinePlot=i.Class.create(i.Graph.Renderer,{name:"lineplot",defaults:function($super){return i.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,i=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return i.defined&&i.defined(function(t){return null!==t.y}),i},render:function(t){t=t||{};var e=this.graph,i=t.series||e.series,r=t.vis||e.vis,n=this.dotSize;r.selectAll("*").remove();var s=i.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=r.selectAll("path").data(s).enter().append("svg:path").attr("d",this.seriesPathFactory()),h=0;i.forEach(function(t){t.disabled||(t.path=a[0][h++],this._styleSeries(t))},this),i.forEach(function(t){if(!t.disabled){var i=r.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:n});Array.prototype.forEach.call(i[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),i.namespace("Rickshaw.Graph.Smoother"),i.Graph.Smoother=i.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,i=e;this.element&&i(function(){i(t.element).slider({min:1,max:100,slide:function(e,i){t.setScale(i.value)}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var i=[];t.length;){var r=0,n=0,s=t.splice(0,this.aggregationScale);s.forEach(function(t){r+=t.x/s.length,n+=t.y/s.length}),i.push({x:r,y:n})}e.push(i)}.bind(this)),e}}),i.namespace("Rickshaw.Graph.Socketio"),i.Graph.Socketio=i.Class.create(i.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),i.namespace("Rickshaw.Series"),i.Series=i.Class.create(Array,{initialize:function(t,e,r){r=r||{},this.palette=new i.Color.Palette(e),this.timeBase="undefined"==typeof r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase;var n="undefined"==typeof r.timeInterval?1e3:r.timeInterval;this.setTimeInterval(n),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if("undefined"==typeof t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,e){var r=this.getIndex();i.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(i){i.data.push({x:e||(r*this.timeInterval||1)+this.timeBase,y:t[i.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var i={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){i.data.push({x:t.x,y:t.y})}),t.items.push(i)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),i.Series.zeroFill=function(t){i.Series.fill(t,0)},i.Series.fill=function(t,e){for(var i,r=0,n=t.map(function(t){return t.data});r<Math.max.apply(null,n.map(function(t){return t.length}));)i=Math.min.apply(null,n.filter(function(t){return t[r]}).map(function(t){return t[r].x})),n.forEach(function(t){t[r]&&t[r].x==i||t.splice(r,0,{x:i,y:e})}),r++},i.namespace("Rickshaw.Series.FixedDuration"),i.Series.FixedDuration=i.Class.create(i.Series,{initialize:function(t,e,r){if(r=r||{},"undefined"==typeof r.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof r.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new i.Color.Palette(e),this.timeBase="undefined"==typeof r.timeBase?Math.floor((new Date).getTime()/1e3):r.timeBase,this.setTimeInterval(r.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=r.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var n=this.maxDataPoints-this.currentSize-1;n>1;n--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((n-1)*this.timeInterval||1)+this.timeBase,y:0,i:n})},this)},addData:function($super,t,e){if($super(t,e),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),i}),function(){"use strict";"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath((void 0))},window.SVGPathSegMovetoAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{
get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,r,n,s,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=r,this._y1=n,this._x2=s,this._y2=a},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs((void 0),this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,r,n,s,a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=r,this._y1=n,this._x2=s,this._y2=a},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel((void 0),this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,r,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=r,this._y1=n},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs((void 0),this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,r,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=r,this._y1=n},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel((void 0),this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,r,n,s,a,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=r,this._r2=n,this._angle=s,this._largeArcFlag=a,this._sweepFlag=h},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs((void 0),this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,r,n,s,a,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=r,this._r2=n,this._angle=s,this._largeArcFlag=a,this._sweepFlag=h},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel((void 0),this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs((void 0),this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel((void 0),this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs((void 0),this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel((void 0),this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,r,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=r,this._y2=n},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs((void 0),this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,r,n){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=r,this._y2=n},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel((void 0),this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel((void 0),this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath((void 0))},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,r,n,s){return new SVGPathSegCurvetoCubicAbs((void 0),t,e,i,r,n,s)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,r,n,s){return new SVGPathSegCurvetoCubicRel((void 0),t,e,i,r,n,s)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,r){return new SVGPathSegCurvetoQuadraticAbs((void 0),t,e,i,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,r){return new SVGPathSegCurvetoQuadraticRel((void 0),t,e,i,r)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,r,n,s,a){return new SVGPathSegArcAbs((void 0),t,e,i,r,n,s,a)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,r,n,s,a){return new SVGPathSegArcRel((void 0),t,e,i,r,n,s,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs((void 0),t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel((void 0),t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,r){return new SVGPathSegCurvetoCubicSmoothAbs((void 0),t,e,i,r)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,r){return new SVGPathSegCurvetoCubicSmoothRel((void 0),t,e,i,r)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs((void 0),t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel((void 0),t,e)}),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,i=function(){this.pathSegList=[]};i.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,e=0,i=1,r=0,n=1,s=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,n=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var h=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=h)for(var o=this._currentIndex-1,c=1;o>=h;)e+=c*(this._string.charAt(o--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)r+=(this._string.charAt(this._currentIndex++)-"0")*(i*=.1)}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,s=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+r;if(u*=n,t&&(u*=Math.pow(10,s*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],i=this._pathSegTypeFromChar(t);if(i==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(i=this._nextCommandHelper(t,this._previousCommand),i==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=i,i){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);
case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,r.x,r.y,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,r.x,r.y,r.x2,r.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,r.x,r.y,r.x1,r.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,r.x,r.y,r.x1,r.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var n=new i,s=new r(t);if(!s.initialCommandIsMoveTo())return[];for(;s.hasMoreData();){var a=s.parseSegment();if(!a)return[];n.appendSegment(a)}return n.pathSegList})}();